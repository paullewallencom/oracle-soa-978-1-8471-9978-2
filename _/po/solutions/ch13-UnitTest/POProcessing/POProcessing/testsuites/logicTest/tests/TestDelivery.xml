<?xml version="1.0" encoding="UTF-8" ?>
<!-- Generated by Oracle SCA Test Modeler version 1.0 at [9/14/09 12:02 PM]. -->
<compositeTest compositeDN="POProcessing" xmlns="http://xmlns.oracle.com/sca/2006/test">
  <about/>
  <initiate serviceName="receivePO" operation="execute" isAsync="true" delay="PT0S">
    <message>
      <part partName="request">
        <content>
          <PurchaseOrder xmlns="http://xmlns.oracle.com/ns/order">
            <CustID>1111</CustID>
            <ID>1112</ID>
            <productName>TV-LCD</productName>
            <itemType>Electronics</itemType>
            <price>1260</price>
            <quantity>1</quantity>
            <status>Initial</status>
            <ccType>Mastercard</ccType>
            <ccNumber>8765-8765-8765-8765</ccNumber>
          </PurchaseOrder>
        </content>
      </part>
    </message>
  </initiate>
  <wireActions wireSource="approveLargeOrder/getCreditCardStatus" operation="execute">
    <emulate duration="PT0S">
      <message>
        <part partName="reply">
          <content>
            <creditcardStatus xmlns="http://www.globalcompany.com/ns/CCAuthorizationService">VALID</creditcardStatus>
          </content>
        </part>
      </message>
    </emulate>
  </wireActions>
  <wireActions wireSource="routePO/WriteApprovalResults" operation="Write">
    <assert comparisonMethod="string">
      <expected>
        <location key="input" partName="body" xpath="/imp1:Order/imp1:status" xmlns:imp1="http://xmlns.oracle.com/ns/order"/>
        <simple>approved</simple>
      </expected>
    </assert>
  </wireActions>
  <wireActions wireSource="approveLargeOrder/FulfillmentProcess.fulfillmentprocess_client" operation="process">
    <assert comparisonMethod="string">
      <expected>
        <location key="input" partName="payload" xpath="/ns1:Fulfillment/ns1:customerId" xmlns:ns1="http://xmlns.oracle.com/ns/fulfillment"/>
        <simple>9999</simple>
      </expected>
    </assert>
  </wireActions>
</compositeTest>
